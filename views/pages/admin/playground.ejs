<!--views/pages/admin/playground.ejs-->

<%- include("../../layout/base", {
  title: "API Playground",
  body: `
<hgroup>
  <h1>API Playground</h1>
  <p>Swagger-like API explorer for backend testing</p>
</hgroup>

<article>
  <h3>Authorization</h3>
  <input id="token" placeholder="Bearer JWT (optional for GET)" />
</article>

<article>
  <h3>Endpoints</h3>
  <details open>
    <summary>Tasks API</summary>
    <ul id="endpoint-list"></ul>
  </details>
</article>

<section class="grid">
  <article>
    <h3>Request</h3>

    <label>Method
      <input id="method" readonly />
    </label>

    <label>Endpoint
      <input id="endpoint" readonly />
    </label>

    <div id="path-params"></div>
    <div id="query-params"></div>

    <label>Body Type
      <select id="bodyType">
        <option value="none">None</option>
        <option value="json">JSON</option>
      </select>
    </label>

    <label>Request Body
      <textarea id="body" rows="8"></textarea>
    </label>

    <button id="beautify">Beautify JSON</button>
    <button id="send">Send Request</button>
    <button class="outline" id="copyCurl">Copy as cURL</button>
  </article>

  <article id="response-panel">
    <h3>Response</h3>
    <ul>
      <li>Status: <strong id="status">—</strong></li>
      <li>Time: <strong id="time">—</strong> ms</li>
      <li>Rate Limit: <strong id="rate">—</strong></li>
    </ul>

    <details>
      <summary>Response Schema</summary>
      <pre id="schema"></pre>
    </details>

    <pre><code id="response">{}</code></pre>
  </article>
</section>

<script src="/js/playground.js"></script>
`
}) %>
