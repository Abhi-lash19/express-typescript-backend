<!--views/pages/admin/dashboard.ejs-->
<%- include("../../layout/base", {
  title: "Home",
  body: `
    <!-- HERO -->
    <hgroup>
      <h1>ğŸš€ Backend Admin Console</h1>
      <p class="muted">
        Production-ready Express + TypeScript backend with JWT authentication,
        ownership enforcement, rate-limiting, and OpenAPI documentation.
      </p>
    </hgroup>

    <!-- PROJECT OVERVIEW -->
    <article>
      <h3>ğŸ“¦ Project Overview</h3>
      <p>
        This project is a <strong>secure, multi-user backend system</strong>
        designed to demonstrate real-world backend architecture and
        production-readiness patterns.
      </p>

      <ul>
        <li>JWT-based authentication (signup + token issuance)</li>
        <li>User-scoped data access with ownership rules</li>
        <li>Rate limiting & security headers</li>
        <li>Swagger-powered API documentation</li>
        <li>Interactive API Playground for live testing</li>
      </ul>
    </article>

    <!-- SYSTEM METRICS -->
    <section>
      <h3>ğŸ“Š Live System Metrics</h3>

      <section class="grid">
        <article>
          <h4>API Health</h4>
          <p class="metric" id="api-status">â€”</p>
        </article>

        <article>
          <h4>Uptime</h4>
          <p class="metric" id="api-uptime">â€”</p>
        </article>

        <article>
          <h4>Environment</h4>
          <p class="metric" id="api-env">â€”</p>
        </article>

        <article>
          <h4>Total APIs</h4>
          <p class="metric" id="api-count">â€”</p>
        </article>
      </section>
    </section>

    <!-- HOW TO USE -->
    <article>
      <h3>ğŸ§­ How to Use This System</h3>

      <ol>
        <li>
          Click <strong>Login / Get JWT</strong> and create a user account
        </li>
        <li>
          Navigate to <strong>API Playground</strong> to generate a JWT token
        </li>
        <li>
          Select an API endpoint and send authenticated requests
        </li>
        <li>
          Observe ownership enforcement â€” only creators can update or delete data
        </li>
      </ol>
    </article>

    <!-- API PLAYGROUND GUIDE -->
    <article>
      <h3>ğŸ§ª API Playground â€“ Step-by-Step Guide</h3>

      <ol>
        <li>
          <strong>Generate JWT</strong><br />
          Enter your email and password in the <em>Generate JWT</em> panel and click
          <strong>Generate Token</strong>. The issued JWT is automatically applied.
        </li>

        <li>
          <strong>Select an Endpoint</strong><br />
          Click any endpoint from the <em>Endpoints</em> list. The HTTP method,
          path, parameters, and example schemas are preloaded.
        </li>

        <li>
          <strong>Edit Path & Query Parameters</strong><br />
          If the endpoint contains <code>{id}</code>, replace it with a valid ID.
          Add query parameters where applicable.
        </li>

        <li>
          <strong>Edit Request Body</strong><br />
          For POST / PUT requests, switch to the <em>Body</em> tab and modify the JSON payload.
        </li>

        <li>
          <strong>Send Request</strong><br />
          Click <strong>Send Request</strong> to execute the API call and inspect
          the live response, status code, and latency.
        </li>

        <li>
          <strong>Understand Ownership Rules</strong><br />
          You can only update or delete resources created using your JWT.
          Unauthorized access is intentionally returned as <code>404</code>.
        </li>
      </ol>
    </article>

    <!-- PAGE GUIDE -->
    <article>
      <h3>ğŸ—ºï¸ Navigation Guide</h3>

      <section class="grid">
        <article>
          <h4>ğŸ  Home</h4>
          <p class="muted">
            High-level overview of the system, architecture, metrics, and usage instructions.
          </p>
        </article>

        <article>
          <h4>ğŸ§ª API Playground</h4>
          <p class="muted">
            Interactive UI to generate JWTs and test APIs with real requests.
          </p>
        </article>

        <article>
          <h4>ğŸ“˜ Docs</h4>
          <p class="muted">
            OpenAPI-driven documentation with schemas, request/response examples,
            and authorization details.
          </p>
        </article>
      </section>
    </article>

    <!-- ARCHITECTURE DOCS -->
    <article>
      <h3>ğŸ—ï¸ Architecture & Design Documentation</h3>

      <p>
        The internal architecture and design decisions for this system are documented
        separately for clarity and maintainability.
      </p>

      <ul>
        <li>
          <strong>High-Level Design (HLD):</strong>
          <a href="#" target="_blank" rel="noopener">
            View HLD on Notion
          </a>
        </li>
        <li>
          <strong>Low-Level Design (LLD):</strong>
          <a href="#" target="_blank" rel="noopener">
            View LLD on Notion
          </a>
        </li>
      </ul>

      <p class="muted">
        These documents cover system architecture, data flow, middleware layering,
        security considerations, and API lifecycle design.
      </p>
    </article>

    <!-- LEARNING & ENGINEERING -->
    <article>
      <h3>ğŸ§  What I Built & Learned</h3>

      <ul>
        <li>Designing stateless JWT authentication flows</li>
        <li>Implementing ownership-based access control</li>
        <li>Layered Express middleware (auth, rate-limit, validation)</li>
        <li>OpenAPI-first API design and documentation</li>
        <li>Building internal tools to improve developer experience</li>
      </ul>

      <p class="muted">
        This project emphasizes <strong>production readiness</strong>,
        security, and maintainability over simple CRUD demos.
      </p>
    </article>

    <script src="/js/admin-dashboard.js"></script>
  `
}) %>
