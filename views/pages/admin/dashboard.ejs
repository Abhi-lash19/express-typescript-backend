<!--views/pages/admin/dashboard.ejs-->

<%- include("../../layout/base", {
  title: "Home",
  body: `
    <hgroup>
      <h1>üè† Home</h1>
      <p>Backend system overview & security context</p>
    </hgroup>

    <article>
      <h3>üîê Authentication for Full Access</h3>
      <p class="muted">
        You can explore system health, documentation, and read-only APIs without authentication.
        To fully test write APIs (POST / PUT / DELETE) and generate a user-scoped JWT,
        click <strong>Login / Get JWT</strong> in the top-right corner.
      </p>
    </article>

    <section>
      <h3>System Health</h3>
      <section class="grid">
        <article>
          <h4>API Status</h4>
          <p class="metric" id="api-status">‚Äî</p>
        </article>
        <article>
          <h4>Uptime</h4>
          <p class="metric" id="api-uptime">‚Äî</p>
        </article>
        <article>
          <h4>Environment</h4>
          <p class="metric" id="api-env">‚Äî</p>
        </article>
      </section>
    </section>

    <section>
      <h3>Authenticated Context</h3>
      <article>
        <p class="muted">
          Derived from the JWT currently stored in the browser.
        </p>
        <ul>
          <li>
            <strong>User Email:</strong>
            <span id="user-email">‚Äî</span>
          </li>
          <li>
            <strong>Auth Provider:</strong>
            <span id="auth-provider">‚Äî</span>
          </li>
          <li>
            <strong>Token Scope:</strong>
            User-level (no admin override)
          </li>
        </ul>
      </article>
    </section>

    <script src="/js/admin-dashboard.js"></script>
  `
}) %>
